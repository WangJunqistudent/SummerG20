<!DOCTYPE html>
<html>
<head>
    <title>File Search</title>
    <style>
        .result {
            margin-bottom: 20px;
        }

        .path {
            font-weight: bold;
        }

        .line {
            margin-bottom: 5px;
        }

        #saveButton {
            display: none;
        }
    </style>
    <script>
        let selectedResults = [];

        function selectDisk(diskPath) {
            // 在此处根据用户选择的硬盘目录加载文件列表并显示
            // 你可以使用JavaScript或AJAX来实现异步加载文件列表的功能
        }

        function toggleSelect(resultDiv) {
            resultDiv.classList.toggle('selected');
            updateSelectedResults();
        }

        function updateSelectedResults() {
            const selectedDivs = document.getElementsByClassName('result selected');
            selectedResults = [];

            for (let i = 0; i < selectedDivs.length; i++) {
                const path = selectedDivs[i].querySelector('.path').textContent;
                const lines = Array.from(selectedDivs[i].querySelectorAll('.line')).map(line => line.textContent);
                selectedResults.push({ path, lines });
            }

            if (selectedResults.length > 0) {
                saveButton.style.display = 'block';
            } else {
                saveButton.style.display = 'none';
            }
        }

        function saveResults() {
            // 在此处将选中的结果保存到数据库中
            // 你可以使用JavaScript或发起服务器请求来实现保存到数据库的功能
            // 这里只是一个示例，你需要根据实际情况进行修改
            const resultData = JSON.stringify(selectedResults);
            alert('Results saved: ' + resultData);
        }

        function searchFiles() {
            const keywords = document.getElementById('keywords').value;
            // 在此处根据输入的关键字进行搜索，并显示搜索结果
            // 你可以使用JavaScript或AJAX来实现搜索功能
        }
    </script>
</head>
<body>
    <h1>File Search</h1>

    <button onclick="selectDisk('A:\')">Select Disk A</button>
    <button onclick="selectDisk('B:\')">Select Disk B</button>
    <!-- 添加更多选择硬盘的按钮 -->

    <div id="fileList"></div>

    <button id="saveButton" onclick="saveResults()">Save</button>

    <hr>

    <label for="keywords">Enter Keywords:</label>
    <input type="text" id="keywords" name="keywords" required>
    <button onclick="searchFiles()">Search</button>

    <div id="results"></div>
</body>
</html>
